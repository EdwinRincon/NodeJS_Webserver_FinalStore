(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(t,e,r){"use strict";r.r(e),r.d(e,"AdminModule",(function(){return le}));var i=r("ofXK"),n=r("tyNb"),o=r("0MNC"),c=r("lJxs"),a=r("UXun"),s=r("fXoL"),d=r("KDUW"),l=r("XhcP"),b=r("/t3+"),u=r("MutI"),m=r("bTqV"),p=r("NFeN");function h(t,e){if(1&t){const t=s.Wb();s.Vb(0,"button",11),s.dc("click",(function(){return s.sc(t),s.fc(),s.qc(2).toggle()})),s.Vb(1,"mat-icon",12),s.zc(2,"menu"),s.Ub(),s.Ub()}}let f=(()=>{class t{constructor(t,e,r){this.breakpointObserver=t,this.authService=e,this.router=r,this.isHandset$=this.breakpointObserver.observe(o.b.Handset).pipe(Object(c.a)(t=>t.matches),Object(a.a)()),window.setInterval(()=>this.hora=(new Date).toLocaleString(),1e3)}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["./home"])})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(o.a),s.Pb(d.a),s.Pb(n.d))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-nav"]],decls:30,vars:13,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","../home",1,"w3-btn","w3-indigo"],["mat-list-item","","routerLink","/admin/productos"],["mat-list-item","","routerLink","/admin/clientes"],["mat-list-item","","routerLink","/admin/orders"],["mat-list-item","","routerLink","/admin/ordersproducto"],["mat-list-item","",1,"w3-btn","w3-red",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,e){1&t&&(s.Vb(0,"mat-sidenav-container",0),s.Vb(1,"mat-sidenav",1,2),s.gc(3,"async"),s.gc(4,"async"),s.gc(5,"async"),s.Vb(6,"mat-toolbar"),s.zc(7,"Men\xfa"),s.Ub(),s.Vb(8,"mat-nav-list"),s.Vb(9,"button",3),s.zc(10,"HOME"),s.Ub(),s.Vb(11,"a",4),s.zc(12,"Productos"),s.Ub(),s.Vb(13,"a",5),s.zc(14,"Clientes"),s.Ub(),s.Vb(15,"a",6),s.zc(16,"Ordenes"),s.Ub(),s.Vb(17,"a",7),s.zc(18,"Ventas"),s.Ub(),s.Vb(19,"button",8),s.dc("click",(function(){return e.logout()})),s.zc(20,"SALIR"),s.Ub(),s.Ub(),s.Ub(),s.Vb(21,"mat-sidenav-content"),s.Vb(22,"mat-toolbar",9),s.yc(23,h,3,0,"button",10),s.gc(24,"async"),s.Vb(25,"span"),s.zc(26,"FINAL-STORE"),s.Ub(),s.Vb(27,"p"),s.zc(28),s.Ub(),s.Ub(),s.Qb(29,"router-outlet"),s.Ub(),s.Ub()),2&t&&(s.Db(1),s.lc("mode",s.hc(4,7,e.isHandset$)?"over":"side")("opened",!1===s.hc(5,9,e.isHandset$)),s.Eb("role",s.hc(3,5,e.isHandset$)?"dialog":"navigation"),s.Db(22),s.lc("ngIf",s.hc(24,11,e.isHandset$)),s.Db(5),s.Bc(" ",e.hora," "))},directives:[l.b,l.a,b.a,u.d,u.b,n.e,n.g,l.c,i.l,n.i,m.b,p.a],pipes:[i.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}mat-toolbar.mat-primary[_ngcontent-%COMP%]:first-child{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}mat-toolbar.mat-primary[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-left:20px}"]}),t})();var g=r("PSD3"),y=r.n(g),v=r("/CO7"),V=r("BAab"),U=r("kmnG"),C=r("qFsG"),P=r("3Pt+"),w=r("+0xr"),x=r("zy28");function O(t,e){1&t&&s.Qb(0,"app-loading-spinner")}function _(t,e){1&t&&(s.Vb(0,"th",19),s.zc(1," Name "),s.Ub())}function D(t,e){if(1&t&&(s.Vb(0,"td",20),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.name," ")}}function z(t,e){1&t&&(s.Vb(0,"th",19),s.zc(1," Price "),s.Ub())}function S(t,e){if(1&t&&(s.Vb(0,"td",20),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.price," ")}}function k(t,e){1&t&&(s.Vb(0,"th",19),s.zc(1," Category "),s.Ub())}function I(t,e){if(1&t&&(s.Vb(0,"td",20),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.category," ")}}function M(t,e){1&t&&(s.Vb(0,"th",19),s.zc(1," Actions "),s.Ub())}const E=function(t){return["edit",t]};function $(t,e){if(1&t){const t=s.Wb();s.Vb(0,"td",20),s.Vb(1,"button",21),s.zc(2,"Editar "),s.Vb(3,"span",2),s.zc(4,"edit"),s.Ub(),s.Ub(),s.Vb(5,"button",22),s.dc("click",(function(){s.sc(t);const r=e.$implicit;return s.fc().deleteProduct(r.name,r.img)})),s.zc(6,"Eliminar"),s.Vb(7,"span",2),s.zc(8,"delete"),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=e.$implicit;s.Db(1),s.lc("routerLink",s.nc(1,E,t.name))}}function B(t,e){1&t&&s.Qb(0,"tr",23)}function N(t,e){1&t&&s.Qb(0,"tr",24)}let T=(()=>{class t{constructor(t,e,r,i){this.productsService=t,this.afs=e,this.document=r,this.renderer2=i,this.productos=[],this.showLoadingSpinner=!0,this.displayedColumns=["name","price","category","actions"],this.ascDesc="asc",this.like="",this.limit=0,this.category=void 0}ngAfterViewInit(){this.fetchProducts(0),this.numeroTotalProductos()}numeroTotalProductos(){this.productsService.getNRegistrosProduct().subscribe(t=>{this.nTotalProductos=t})}paginacion(t){this.renderer2.setStyle(this.document.getElementById("nextPAdm"),"display",t<9?"none":"block"),this.renderer2.setStyle(this.document.getElementById("previousPAdm"),"display",this.limit<=0?"none":"block")}fetchProducts(t){this.showLoadingSpinner=!0,this.renderer2.setStyle(this.document.getElementById("nextPAdm"),"display","none"),this.renderer2.setStyle(this.document.getElementById("previousPAdm"),"display","none"),this.productsService.getAllProducts(this.ascDesc,this.category,this.like,t).subscribe(t=>{this.showLoadingSpinner=!1,this.productos=t,this.paginacion(t.length)})}deleteProduct(t,e){y.a.fire({title:"Est\xe1s seguro?",text:"No podr\xe1s revertir la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, Eliminar!"}).then(r=>{r.value&&this.productsService.deleteProduct(t).subscribe(()=>{y.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0}).fire({icon:"success",title:"Producto eliminado"}),this.limit=0,this.fetchProducts(0),this.afs.ref(e).delete()})})}search(){this.texto.length>0?(this.like=this.texto,this.limit=0,this.fetchProducts(0)):(this.like="",this.limit=0,this.fetchProducts(0))}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(v.a),s.Pb(V.a),s.Pb(i.e),s.Pb(s.F))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-products-list"]],decls:35,vars:5,consts:[[1,"container-fluid"],["mat-raised-button","","routerLink","create"],[1,"material-icons"],[1,"col-xs-12","col-sm-6","col-md-3","col-lg-6"],["matInput","","autocomplete","off","type","search",3,"ngModel","keyup","ngModelChange"],[4,"ngIf"],[1,"mat-elevation-z2"],["mat-table","",1,"mat-elevation-z2",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","category"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","rowsData","mat-row","",4,"matRowDef","matRowDefColumns"],["id","btnPagination"],["mat-raised-button","","color","warn","id","previousPAdm",3,"click"],["mat-raised-button","","color","warn","id","nextPAdm",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",1,"rowsData"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"a",1),s.zc(2,"Crear nuevo producto "),s.Vb(3,"span",2),s.zc(4,"local_offer"),s.Ub(),s.Ub(),s.Vb(5,"mat-form-field",3),s.Vb(6,"mat-label"),s.zc(7,"Buscar..."),s.Ub(),s.Vb(8,"input",4),s.dc("keyup",(function(){return e.search()}))("ngModelChange",(function(t){return e.texto=t})),s.Ub(),s.Ub(),s.Ub(),s.yc(9,O,1,0,"app-loading-spinner",5),s.Vb(10,"div",6),s.Vb(11,"table",7),s.Tb(12,8),s.yc(13,_,2,0,"th",9),s.yc(14,D,2,1,"td",10),s.Sb(),s.Tb(15,11),s.yc(16,z,2,0,"th",9),s.yc(17,S,2,1,"td",10),s.Sb(),s.Tb(18,12),s.yc(19,k,2,0,"th",9),s.yc(20,I,2,1,"td",10),s.Sb(),s.Tb(21,13),s.yc(22,M,2,0,"th",9),s.yc(23,$,9,3,"td",10),s.Sb(),s.yc(24,B,1,0,"tr",14),s.yc(25,N,1,0,"tr",15),s.Ub(),s.Ub(),s.Vb(26,"div",16),s.Vb(27,"button",17),s.dc("click",(function(){return e.fetchProducts(-9)})),s.Vb(28,"mat-icon"),s.zc(29,"arrow_left"),s.Ub(),s.zc(30,"Previous"),s.Ub(),s.Vb(31,"button",18),s.dc("click",(function(){return e.fetchProducts(9)})),s.zc(32,"Next"),s.Vb(33,"mat-icon"),s.zc(34,"arrow_right"),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Db(8),s.lc("ngModel",e.texto),s.Db(1),s.lc("ngIf",!0===e.showLoadingSpinner),s.Db(2),s.lc("dataSource",e.productos),s.Db(13),s.lc("matHeaderRowDef",e.displayedColumns),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns))},directives:[m.a,n.g,U.c,U.g,C.a,P.b,P.n,P.q,i.l,w.j,w.c,w.e,w.b,w.g,w.i,m.b,p.a,x.a,w.d,w.a,n.e,w.f,w.h],styles:["table[_ngcontent-%COMP%]{width:100%}tr.rowsData[_ngcontent-%COMP%]:hover{background-color:rgba(226,234,253,.767)}button[_ngcontent-%COMP%]{min-width:83px;max-width:90px;margin-left:8px}.container-fluid[_ngcontent-%COMP%]{margin-top:8px}mat-form-field[_ngcontent-%COMP%]{width:30%;min-width:250px}#btnPagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:25px}#nextPAdm[_ngcontent-%COMP%]{margin-left:10vw}#nextPAdm[_ngcontent-%COMP%], #previousPAdm[_ngcontent-%COMP%]{min-width:111px}"]}),t})();var L=r("nYR2");class j{static isPriceValid(t){return t.value>1e4?{price_invalid:!0}:null}}var A=r("Wp6s");function Q(t,e){1&t&&(s.Vb(0,"p"),s.zc(1,"no te debes pasar de 10.000 \u20ac"),s.Ub())}function R(t,e){1&t&&(s.Vb(0,"p"),s.zc(1,"el campo es requerido"),s.Ub())}function q(t,e){if(1&t&&(s.Vb(0,"div"),s.yc(1,Q,2,0,"p",5),s.yc(2,R,2,0,"p",5),s.Ub()),2&t){const t=s.fc();s.Db(1),s.lc("ngIf",t.priceField.hasError("price_invalid")),s.Db(1),s.lc("ngIf",t.priceField.hasError("required"))}}function F(t,e){1&t&&s.Qb(0,"img",11),2&t&&s.lc("src",e.ngIf,s.tc)}let H=(()=>{class t{constructor(t,e,r,i){this.formBuilder=t,this.productsService=e,this.router=r,this.storage=i,this.buildForm()}ngOnInit(){}saveProduct(t){t.preventDefault(),this.form.valid&&this.productsService.createProduct(this.form.value).subscribe(t=>{this.router.navigate(["./admin/productos"])})}uploadFile(t){const e=t.target.files[0],r=this.form.value.title,i=this.storage.ref(r);this.storage.upload(r,e).snapshotChanges().pipe(Object(L.a)(()=>{this.image$=i.getDownloadURL(),this.image$.subscribe(t=>{this.form.get("image").setValue(t)})})).subscribe()}buildForm(){this.form=this.formBuilder.group({name:["",[P.t.required]],price:["",[P.t.required,j.isPriceValid]],image:[""],description:["",[P.t.required]],category:["",[P.t.required]]})}get priceField(){return this.form.get("price")}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(P.c),s.Pb(v.a),s.Pb(n.d),s.Pb(V.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-form-product"]],decls:31,vars:6,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["placeholder","Name","formControlName","name","matInput","","type","text"],["placeholder","Price","formControlName","price","matInput","","type","number"],[4,"ngIf"],["placeholder","Description","formControlName","description","matInput",""],["placeholder","Category","formControlName","category","matInput","","type","text"],["alt","producto",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["alt","producto",3,"src"]],template:function(t,e){1&t&&(s.Vb(0,"form",0),s.dc("ngSubmit",(function(t){return e.saveProduct(t)})),s.Vb(1,"mat-card"),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.zc(4,"Producto"),s.Ub(),s.Ub(),s.Vb(5,"mat-card-content"),s.Vb(6,"div",1),s.Vb(7,"div",2),s.Vb(8,"mat-form-field"),s.Qb(9,"input",3),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",1),s.Vb(11,"div",2),s.Vb(12,"mat-form-field"),s.Qb(13,"input",4),s.Ub(),s.yc(14,q,3,2,"div",5),s.Ub(),s.Ub(),s.Vb(15,"div",1),s.Vb(16,"div",2),s.Vb(17,"mat-form-field"),s.Qb(18,"textarea",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(19,"div",1),s.Vb(20,"div",2),s.Vb(21,"mat-form-field"),s.Qb(22,"input",7),s.Ub(),s.Ub(),s.Ub(),s.Vb(23,"div",1),s.Vb(24,"div",2),s.yc(25,F,1,1,"img",8),s.gc(26,"async"),s.Vb(27,"input",9),s.dc("change",(function(t){return e.uploadFile(t)})),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(28,"mat-card-actions"),s.Vb(29,"button",10),s.zc(30,"Guardar"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.lc("formGroup",e.form),s.Db(14),s.lc("ngIf",e.priceField.errors&&e.priceField.dirty),s.Db(11),s.lc("ngIf",s.hc(26,4,e.image$)),s.Db(4),s.lc("disabled",e.form.invalid))},directives:[P.u,P.o,P.g,A.a,A.d,A.g,A.c,U.c,P.b,C.a,P.n,P.f,P.r,i.l,A.b,m.b],pipes:[i.b],styles:["form[_ngcontent-%COMP%]{width:90%;padding:0;margin:50px auto auto;box-shadow:1px 1px 1px}form[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{max-width:500px}mat-card-header[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{max-height:300px}"]}),t})();var G=r("1jcm"),J=r("d3UM"),W=r("FKr1");function X(t,e){1&t&&(s.Vb(0,"p",21),s.zc(1,"DISPONIBLE: SI"),s.Ub())}function Y(t,e){1&t&&(s.Vb(0,"p",22),s.zc(1,"DISPONIBLE: NO"),s.Ub())}function K(t,e){1&t&&(s.Vb(0,"p"),s.zc(1,"no te debes pasar de \u20ac10.000"),s.Ub())}function Z(t,e){1&t&&(s.Vb(0,"p"),s.zc(1,"el campo es requerido"),s.Ub())}function tt(t,e){if(1&t&&(s.Vb(0,"div"),s.yc(1,K,2,0,"p",9),s.yc(2,Z,2,0,"p",9),s.Ub()),2&t){const t=s.fc();s.Db(1),s.lc("ngIf",t.priceField.hasError("price_invalid")),s.Db(1),s.lc("ngIf",t.priceField.hasError("required"))}}function et(t,e){1&t&&s.Qb(0,"img",23),2&t&&s.lc("src",e.ngIf,s.tc)}let rt=(()=>{class t{constructor(t,e,r,i,n){this.formBuilder=t,this.productsService=e,this.router=r,this.activatedRoute=i,this.storage=n,this.category=void 0,this.color="primary",this.buildForm()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.name=t.name,this.productsService.getProduct(this.name).subscribe(t=>{this.form.patchValue(t),this.available=t.available})})}cambio(){this.available=!this.available}saveProduct(t){t.preventDefault(),this.form.valid&&this.productsService.updateProduct(this.name,this.form.value).subscribe(()=>{this.router.navigate(["./admin/productos"])})}uploadFile(t){const e=t.target.files[0],r=this.form.value.title,i=this.storage.ref(r);this.storage.upload(r,e).snapshotChanges().pipe(Object(L.a)(()=>{this.image$=i.getDownloadURL(),this.image$.subscribe(t=>{this.form.get("image").setValue(t)})})).subscribe()}buildForm(){this.form=this.formBuilder.group({name:["",[P.t.required]],price:["",[P.t.required,j.isPriceValid]],img:[""],description:["",[P.t.required]],category:["",[P.t.required]],available:[""]})}get priceField(){return this.form.get("price")}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(P.c),s.Pb(v.a),s.Pb(n.d),s.Pb(n.a),s.Pb(V.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-product-edit"]],decls:48,vars:9,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["formControlName","available",3,"color","change"],["id","disponibleY",4,"ngIf"],["id","disponibleN",4,"ngIf"],[1,"col-xs-12","col-md-12","col-lg-12","col-xl-12"],["placeholder","Name","formControlName","name","matInput","","type","text"],["placeholder","Price","formControlName","price","matInput","","type","number"],[4,"ngIf"],["placeholder","Description","formControlName","description","matInput",""],[1,"col-xs-12","col-sm-6","col-md-3","col-lg-6"],["formControlName","category"],["value","moviles"],["value","ordenadores"],["value","televisores"],["value","relojes"],["value","auriculares"],["alt","producto",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["id","disponibleY"],["id","disponibleN"],["alt","producto",3,"src"]],template:function(t,e){1&t&&(s.Vb(0,"form",0),s.dc("ngSubmit",(function(t){return e.saveProduct(t)})),s.Vb(1,"mat-card"),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.zc(4,"Producto"),s.Ub(),s.Vb(5,"div",1),s.Vb(6,"div",2),s.Vb(7,"mat-slide-toggle",3),s.dc("change",(function(){return e.cambio()})),s.yc(8,X,2,0,"p",4),s.yc(9,Y,2,0,"p",5),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"mat-card-content"),s.Vb(11,"div",1),s.Vb(12,"div",6),s.Vb(13,"mat-form-field"),s.Qb(14,"input",7),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",1),s.Vb(16,"div",2),s.Vb(17,"mat-form-field"),s.Qb(18,"input",8),s.Ub(),s.yc(19,tt,3,2,"div",9),s.Ub(),s.Ub(),s.Vb(20,"div",1),s.Vb(21,"div",2),s.Vb(22,"mat-form-field"),s.Qb(23,"textarea",10),s.Ub(),s.Ub(),s.Ub(),s.Vb(24,"div",1),s.Vb(25,"div",2),s.Vb(26,"mat-form-field",11),s.Vb(27,"mat-label"),s.zc(28,"Elegir categoria"),s.Ub(),s.Vb(29,"mat-select",12),s.Vb(30,"mat-option",13),s.zc(31,"Moviles"),s.Ub(),s.Vb(32,"mat-option",14),s.zc(33,"Ordenadores"),s.Ub(),s.Vb(34,"mat-option",15),s.zc(35,"Televisores"),s.Ub(),s.Vb(36,"mat-option",16),s.zc(37,"Relojes"),s.Ub(),s.Vb(38,"mat-option",17),s.zc(39,"Auriculares"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(40,"div",1),s.Vb(41,"div",2),s.yc(42,et,1,1,"img",18),s.gc(43,"async"),s.Vb(44,"input",19),s.dc("change",(function(t){return e.uploadFile(t)})),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(45,"mat-card-actions"),s.Vb(46,"button",20),s.zc(47,"Guardar"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.lc("formGroup",e.form),s.Db(7),s.lc("color",e.color),s.Db(1),s.lc("ngIf",!0===e.available),s.Db(1),s.lc("ngIf",!1===e.available),s.Db(10),s.lc("ngIf",e.priceField.errors&&e.priceField.dirty),s.Db(23),s.lc("ngIf",s.hc(43,7,e.image$)),s.Db(4),s.lc("disabled",e.form.invalid))},directives:[P.u,P.o,P.g,A.a,A.d,A.g,G.a,P.n,P.f,i.l,A.c,U.c,P.b,C.a,P.r,U.g,J.a,W.h,A.b,m.b],pipes:[i.b],styles:["form[_ngcontent-%COMP%]{width:90%;max-width:500px;padding:0;margin:50px auto auto;box-shadow:1px 1px 1px}#disponibleY[_ngcontent-%COMP%]{color:green}#disponibleN[_ngcontent-%COMP%]{color:red}mat-card[_ngcontent-%COMP%]{max-width:500px}mat-card-header[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{max-height:300px}"]}),t})();var it=r("AytR"),nt=r("z6cu"),ot=r("JIr8"),ct=r("tk/3");let at=(()=>{class t{constructor(t){this.http=t}getAllClientes(t,e,r,i){return this.http.get(`${it.a.url_api}/clientes?search=${r}&ordenacion=${t}&ascDesc=${e}&limit=${i}`).pipe(Object(ot.a)(this.handleError))}getCliente(t){return this.http.get(`${it.a.url_api}/clientes/id/${t}`).pipe(Object(ot.a)(this.handleError))}createCliente(t){return this.http.post(`${it.a.url_api}/clientes`,t).pipe(Object(ot.a)(this.handleError))}updateCliente(t,e){return this.http.put(`${it.a.url_api}/clientes/${t}`,e).pipe(Object(ot.a)(this.handleError))}deleteCliente(t){return this.http.delete(`${it.a.url_api}/clientes/${t}`).pipe(Object(ot.a)(this.handleError))}getNRegistrosCliente(){return this.http.get(`${it.a.url_api}/clientes/total`).pipe(Object(ot.a)(this.handleError))}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):y.a.fire({title:"Error!",html:t.status+t.statusText+"<br></br>Error: "+t.error.message,icon:"error",confirmButtonText:"Aceptar"}),Object(nt.a)("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(ct.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function st(t,e){1&t&&s.Qb(0,"app-loading-spinner")}function dt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," ID "),s.Ub())}function lt(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.payer_id," ")}}function bt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Name "),s.Ub())}function ut(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.given_name," ")}}function mt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Surname "),s.Ub())}function pt(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.surname," ")}}function ht(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Email "),s.Ub())}function ft(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.email_address," ")}}function gt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Address "),s.Ub())}function yt(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.address_line," ")}}function vt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Postal Code "),s.Ub())}function Vt(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.postal_code," ")}}function Ut(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," City "),s.Ub())}function Ct(t,e){if(1&t&&(s.Vb(0,"td",24),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.city," ")}}function Pt(t,e){1&t&&(s.Vb(0,"th",23),s.zc(1," Actions "),s.Ub())}const wt=function(t){return["edit",t]};function xt(t,e){if(1&t){const t=s.Wb();s.Vb(0,"td",24),s.Vb(1,"button",25),s.zc(2,"Editar "),s.Vb(3,"span",2),s.zc(4,"edit"),s.Ub(),s.Ub(),s.Vb(5,"button",26),s.dc("click",(function(){s.sc(t);const r=e.$implicit;return s.fc().deleteCliente(r.payer_id)})),s.zc(6,"Eliminar"),s.Vb(7,"span",2),s.zc(8,"delete"),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=e.$implicit;s.Db(1),s.lc("routerLink",s.nc(1,wt,t.payer_id))}}function Ot(t,e){1&t&&s.Qb(0,"tr",27)}function _t(t,e){1&t&&s.Qb(0,"tr",28)}let Dt=(()=>{class t{constructor(t,e,r){this.clientesService=t,this.renderer2=e,this.document=r,this.clientes=[],this.showLoadingSpinner=!0,this.displayedColumns=["id","name","surname","email","address","postalCode","city","actions"],this.ord="city",this.ascDesc=0,this.like=null,this.limit=0}ngAfterViewInit(){this.fetchClientes(0),this.numeroTotalClientes()}numeroTotalClientes(){this.clientesService.getNRegistrosCliente().subscribe(t=>{this.nTotalClientes=t})}paginacion(t){this.renderer2.setStyle(this.document.getElementById("nextC"),"display",t<9?"none":"block"),this.renderer2.setStyle(this.document.getElementById("previousC"),"display",this.limit<=0?"none":"block")}fetchClientes(t){this.limit+=t,this.showLoadingSpinner=!0,this.renderer2.setStyle(this.document.getElementById("nextC"),"display","none"),this.renderer2.setStyle(this.document.getElementById("previousC"),"display","none"),this.clientesService.getAllClientes(this.ord,this.ascDesc,this.like,this.limit).subscribe(t=>{this.showLoadingSpinner=!1,this.clientes=t,this.paginacion(t.length)})}deleteCliente(t){y.a.fire({title:"Est\xe1s seguro?",text:"No podr\xe1s revertir la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, Eliminar!"}).then(e=>{e.value&&this.clientesService.deleteCliente(t).subscribe(()=>{y.a.fire("Eliminado!","El registro se ha eliminado","success"),this.limit=0,this.fetchClientes(0)})})}search(){this.texto.length>0?(this.like=this.texto,this.limit=0,this.fetchClientes(0)):(this.like=null,this.limit=0,this.fetchClientes(0))}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(at),s.Pb(s.F),s.Pb(i.e))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-clientes-list"]],decls:47,vars:5,consts:[[1,"container-fluid"],["mat-raised-button","","routerLink","create"],[1,"material-icons"],[1,"col-xs-12","col-sm-6","col-md-3","col-lg-6"],["matInput","","autocomplete","off","type","search",3,"ngModel","keyup","ngModelChange"],[4,"ngIf"],[1,"mat-elevation-z1"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","email"],["matColumnDef","address"],["matColumnDef","postalCode"],["matColumnDef","city"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","rowsData","mat-row","",4,"matRowDef","matRowDefColumns"],["id","btnPagination"],["mat-raised-button","","color","warn","id","previousC",3,"click"],["mat-raised-button","","color","warn","id","nextC",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",1,"rowsData"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"a",1),s.zc(2,"Crear nuevo cliente "),s.Vb(3,"span",2),s.zc(4,"person_add"),s.Ub(),s.Ub(),s.Vb(5,"mat-form-field",3),s.Vb(6,"mat-label"),s.zc(7,"Buscar..."),s.Ub(),s.Vb(8,"input",4),s.dc("keyup",(function(){return e.search()}))("ngModelChange",(function(t){return e.texto=t})),s.Ub(),s.Ub(),s.Ub(),s.yc(9,st,1,0,"app-loading-spinner",5),s.Vb(10,"div",6),s.Vb(11,"table",7),s.Tb(12,8),s.yc(13,dt,2,0,"th",9),s.yc(14,lt,2,1,"td",10),s.Sb(),s.Tb(15,11),s.yc(16,bt,2,0,"th",9),s.yc(17,ut,2,1,"td",10),s.Sb(),s.Tb(18,12),s.yc(19,mt,2,0,"th",9),s.yc(20,pt,2,1,"td",10),s.Sb(),s.Tb(21,13),s.yc(22,ht,2,0,"th",9),s.yc(23,ft,2,1,"td",10),s.Sb(),s.Tb(24,14),s.yc(25,gt,2,0,"th",9),s.yc(26,yt,2,1,"td",10),s.Sb(),s.Tb(27,15),s.yc(28,vt,2,0,"th",9),s.yc(29,Vt,2,1,"td",10),s.Sb(),s.Tb(30,16),s.yc(31,Ut,2,0,"th",9),s.yc(32,Ct,2,1,"td",10),s.Sb(),s.Tb(33,17),s.yc(34,Pt,2,0,"th",9),s.yc(35,xt,9,3,"td",10),s.Sb(),s.yc(36,Ot,1,0,"tr",18),s.yc(37,_t,1,0,"tr",19),s.Ub(),s.Ub(),s.Vb(38,"div",20),s.Vb(39,"button",21),s.dc("click",(function(){return e.fetchClientes(-9)})),s.Vb(40,"mat-icon"),s.zc(41,"arrow_left"),s.Ub(),s.zc(42,"Previous"),s.Ub(),s.Vb(43,"button",22),s.dc("click",(function(){return e.fetchClientes(9)})),s.zc(44,"Next"),s.Vb(45,"mat-icon"),s.zc(46,"arrow_right"),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Db(8),s.lc("ngModel",e.texto),s.Db(1),s.lc("ngIf",!0===e.showLoadingSpinner),s.Db(2),s.lc("dataSource",e.clientes),s.Db(25),s.lc("matHeaderRowDef",e.displayedColumns),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns))},directives:[m.a,n.g,U.c,U.g,C.a,P.b,P.n,P.q,i.l,w.j,w.c,w.e,w.b,w.g,w.i,m.b,p.a,x.a,w.d,w.a,n.e,w.f,w.h],styles:["table[_ngcontent-%COMP%]{width:100%}tr.rowsData[_ngcontent-%COMP%]:hover{background-color:rgba(226,234,253,.767)}button[_ngcontent-%COMP%]{min-width:83px;max-width:90px;margin-left:8px}.container-fluid[_ngcontent-%COMP%]{margin-top:8px}mat-form-field[_ngcontent-%COMP%]{width:30%;min-width:250px}#btnPagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:25px}#nextC[_ngcontent-%COMP%]{margin-left:10vw}#nextC[_ngcontent-%COMP%], #previousC[_ngcontent-%COMP%]{min-width:111px}"]}),t})(),zt=(()=>{class t{constructor(t,e,r,i){this.formBuilder=t,this.clienteService=e,this.router=r,this.activatedRoute=i,this.buildForm()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.payer_id=t.payer_id,this.clienteService.getCliente(this.payer_id).subscribe(t=>{this.form.patchValue(t)})})}buildForm(){this.form=this.formBuilder.group({payer_id:["",[P.t.required]],given_name:["",[P.t.required]],surname:["",[P.t.required]],email_address:["",[P.t.required]],address_line:["",[P.t.required]],postal_code:["",[P.t.required]],city:["",[P.t.required]]}),this.form.get("payer_id").disable()}saveCliente(t){t.preventDefault(),this.form.valid&&this.clienteService.updateCliente(this.payer_id,this.form.value).subscribe(()=>{this.router.navigate(["./admin/clientes"])})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(P.c),s.Pb(at),s.Pb(n.d),s.Pb(n.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-clientes-edit"]],decls:37,vars:2,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs-12","col-md-12","col-lg-12","col-xl-12"],["placeholder","ID","formControlName","payer_id","matInput","","type","text"],[1,"col-xs"],["placeholder","Name","formControlName","given_name","matInput","","type","text"],["placeholder","Surname","formControlName","surname","matInput","","type","text"],["placeholder","Email","formControlName","email_address","matInput","","type","email"],["placeholder","Address","formControlName","address_line","matInput","","type","text"],["placeholder","Postal Code","formControlName","postal_code","matInput","","type","text"],["placeholder","City","formControlName","city","matInput","","type","text"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(s.Vb(0,"form",0),s.dc("ngSubmit",(function(t){return e.saveCliente(t)})),s.Vb(1,"mat-card"),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.zc(4,"Cliente"),s.Ub(),s.Ub(),s.Vb(5,"mat-card-content"),s.Vb(6,"div",1),s.Vb(7,"div",2),s.Vb(8,"mat-form-field"),s.Qb(9,"input",3),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",1),s.Vb(11,"div",4),s.Vb(12,"mat-form-field"),s.Qb(13,"input",5),s.Ub(),s.Ub(),s.Ub(),s.Vb(14,"div",1),s.Vb(15,"div",4),s.Vb(16,"mat-form-field"),s.Qb(17,"input",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(18,"div",1),s.Vb(19,"div",4),s.Vb(20,"mat-form-field"),s.Qb(21,"input",7),s.Ub(),s.Ub(),s.Ub(),s.Vb(22,"div",1),s.Vb(23,"div",4),s.Vb(24,"mat-form-field"),s.Qb(25,"input",8),s.Ub(),s.Ub(),s.Ub(),s.Vb(26,"div",1),s.Vb(27,"div",4),s.Vb(28,"mat-form-field"),s.Qb(29,"input",9),s.Ub(),s.Ub(),s.Ub(),s.Vb(30,"div",1),s.Vb(31,"div",4),s.Vb(32,"mat-form-field"),s.Qb(33,"input",10),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(34,"mat-card-actions"),s.Vb(35,"button",11),s.zc(36,"Guardar"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.lc("formGroup",e.form),s.Db(35),s.lc("disabled",e.form.invalid))},directives:[P.u,P.o,P.g,A.a,A.d,A.g,A.c,U.c,P.b,C.a,P.n,P.f,A.b,m.b],styles:["form[_ngcontent-%COMP%]{width:90%;padding:0;margin:50px auto auto;box-shadow:1px 1px 1px}form[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{max-width:500px}mat-card-header[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();function St(t,e){1&t&&(s.Vb(0,"mat-error"),s.zc(1," Longuitud min y max 5. "),s.Ub())}let kt=(()=>{class t{constructor(t,e,r){this.formBuilder=t,this.clientesService=e,this.router=r}ngOnInit(){this.buildForm()}saveCliente(t){t.preventDefault(),this.form.valid&&this.clientesService.createCliente(this.form.value).subscribe(t=>{this.router.navigate(["./admin/clientes"])})}buildForm(){this.form=this.formBuilder.group({payer_id:["",[P.t.required]],given_name:["",[P.t.required,P.t.minLength(3)]],surname:["",[P.t.required,P.t.minLength(3)]],email_address:["",[P.t.required]],address_line:["",[P.t.required]],postal_code:["",[P.t.required,P.t.minLength(5),P.t.maxLength(5)]],city:["",[P.t.required]]})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(P.c),s.Pb(at),s.Pb(n.d))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-form-cliente"]],decls:38,vars:3,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["placeholder","Payer ID","formControlName","payer_id","matInput","","type","text"],["placeholder","Given name","formControlName","given_name","matInput","","type","text"],["placeholder","Surname","formControlName","surname","matInput","","type","text"],["placeholder","Email Address","formControlName","email_address","matInput","","type","email"],["placeholder","Address Line","formControlName","address_line","matInput","","type","text"],["placeholder","Postal Code","formControlName","postal_code","matInput","","type","text"],[4,"ngIf"],["placeholder","City","formControlName","city","matInput","","type","text"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(s.Vb(0,"form",0),s.dc("ngSubmit",(function(t){return e.saveCliente(t)})),s.Vb(1,"mat-card"),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.zc(4,"Cliente"),s.Ub(),s.Ub(),s.Vb(5,"mat-card-content"),s.Vb(6,"div",1),s.Vb(7,"div",2),s.Vb(8,"mat-form-field"),s.Qb(9,"input",3),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",1),s.Vb(11,"div",2),s.Vb(12,"mat-form-field"),s.Qb(13,"input",4),s.Ub(),s.Ub(),s.Ub(),s.Vb(14,"div",1),s.Vb(15,"div",2),s.Vb(16,"mat-form-field"),s.Qb(17,"input",5),s.Ub(),s.Ub(),s.Ub(),s.Vb(18,"div",1),s.Vb(19,"div",2),s.Vb(20,"mat-form-field"),s.Qb(21,"input",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(22,"div",1),s.Vb(23,"div",2),s.Vb(24,"mat-form-field"),s.Qb(25,"input",7),s.Ub(),s.Ub(),s.Ub(),s.Vb(26,"div",1),s.Vb(27,"div",2),s.Vb(28,"mat-form-field"),s.Qb(29,"input",8),s.yc(30,St,2,0,"mat-error",9),s.Ub(),s.Ub(),s.Ub(),s.Vb(31,"div",1),s.Vb(32,"div",2),s.Vb(33,"mat-form-field"),s.Qb(34,"input",10),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(35,"mat-card-actions"),s.Vb(36,"button",11),s.zc(37,"Guardar"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.lc("formGroup",e.form),s.Db(30),s.lc("ngIf",e.form.controls.postal_code.invalid),s.Db(6),s.lc("disabled",e.form.invalid))},directives:[P.u,P.o,P.g,A.a,A.d,A.g,A.c,U.c,P.b,C.a,P.n,P.f,i.l,A.b,m.b,U.b],styles:["form[_ngcontent-%COMP%]{width:90%;padding:0;margin:50px auto auto;box-shadow:1px 1px 1px}form[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{max-width:500px}mat-card-header[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})(),It=(()=>{class t{constructor(t){this.http=t}createOrder(t){return this.http.post(`${it.a.url_api}/orders/`,t).pipe(Object(ot.a)(this.handleError))}getAllOrders(t,e,r,i){return this.http.get(`${it.a.url_api}/orders?search=${r}&ordenacion=${t}&ascDesc=${e}&limit=${i}`).pipe(Object(ot.a)(this.handleError))}getOrder(t){return this.http.get(`${it.a.url_api}/orders/id/${t}`).pipe(Object(ot.a)(this.handleError))}updateOrder(t,e){return this.http.put(`${it.a.url_api}/orders/${t}`,e).pipe(Object(ot.a)(this.handleError))}deleteOrder(t){return this.http.delete(`${it.a.url_api}/orders/id/${t}`).pipe(Object(ot.a)(this.handleError))}getNRegistrosOrders(){return this.http.get(`${it.a.url_api}/orders/total`).pipe(Object(ot.a)(this.handleError))}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):y.a.fire({title:"Error!",html:t.status+t.statusText+"<br></br>Error: "+t.error.message,icon:"error",confirmButtonText:"Aceptar"}),Object(nt.a)("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(ct.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Mt(t,e){1&t&&s.Qb(0,"app-loading-spinner")}function Et(t,e){1&t&&(s.Vb(0,"th",17),s.zc(1," ID Order "),s.Ub())}function $t(t,e){if(1&t&&(s.Vb(0,"td",18),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.id_order," ")}}function Bt(t,e){1&t&&(s.Vb(0,"th",17),s.zc(1," Payer ID "),s.Ub())}function Nt(t,e){if(1&t&&(s.Vb(0,"td",18),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.payer_id," ")}}function Tt(t,e){1&t&&(s.Vb(0,"th",17),s.zc(1," Create Time "),s.Ub())}function Lt(t,e){if(1&t&&(s.Vb(0,"td",18),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.create_time," ")}}function jt(t,e){1&t&&(s.Vb(0,"th",17),s.zc(1," Actions "),s.Ub())}function At(t,e){if(1&t){const t=s.Wb();s.Vb(0,"td",18),s.Vb(1,"button",19),s.dc("click",(function(){s.sc(t);const r=e.$implicit;return s.fc().deleteOrder(r.id_order)})),s.zc(2,"Eliminar"),s.Vb(3,"span",20),s.zc(4,"delete"),s.Ub(),s.Ub(),s.Ub()}}function Qt(t,e){1&t&&s.Qb(0,"tr",21)}function Rt(t,e){1&t&&s.Qb(0,"tr",22)}let qt=(()=>{class t{constructor(t,e,r){this.ordersService=t,this.renderer2=e,this.document=r,this.orders=[],this.showLoadingSpinner=!0,this.displayedColumns=["id_order","payer_id","create_time","actions"],this.ord="payer_id",this.ascDesc=0,this.like=null,this.limit=0}ngAfterViewInit(){this.fetchOrders(0),this.numeroTotalOrders()}numeroTotalOrders(){this.ordersService.getNRegistrosOrders().subscribe(t=>{this.nTotalOrders=t})}paginacion(t){this.renderer2.setStyle(this.document.getElementById("nextO"),"display",t<9?"none":"block"),this.renderer2.setStyle(this.document.getElementById("previousO"),"display",this.limit<=0?"none":"block")}fetchOrders(t){this.limit+=t,this.showLoadingSpinner=!0,this.renderer2.setStyle(this.document.getElementById("nextO"),"display","none"),this.renderer2.setStyle(this.document.getElementById("previousO"),"display","none"),this.ordersService.getAllOrders(this.ord,this.ascDesc,this.like,this.limit).subscribe(t=>{this.showLoadingSpinner=!1,this.orders=t,this.paginacion(t.length)})}deleteOrder(t){y.a.fire({title:"Est\xe1s seguro?",text:"No podr\xe1s revertir la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, Eliminar!"}).then(e=>{e.value&&this.ordersService.deleteOrder(t).subscribe(()=>{y.a.fire("Eliminado!","El registro se ha eliminado","success"),this.limit=0,this.fetchOrders(0)})})}search(){this.texto.length>0?(this.like=this.texto,this.limit=0,this.fetchOrders(0)):(this.like=null,this.limit=0,this.fetchOrders(0))}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(It),s.Pb(s.F),s.Pb(i.e))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-orders-list"]],decls:31,vars:5,consts:[[1,"container-fluid"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["matInput","","autocomplete","off","type","search",3,"ngModel","keyup","ngModelChange"],[4,"ngIf"],[1,"mat-elevation-z1"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","id_order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","payer_id"],["matColumnDef","create_time"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","rowsData","mat-row","",4,"matRowDef","matRowDefColumns"],["id","btnPagination"],["mat-raised-button","","color","warn","id","previousO",3,"click"],["mat-raised-button","","color","warn","id","nextO",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons"],["mat-header-row",""],["mat-row","",1,"rowsData"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"mat-form-field",1),s.Vb(2,"mat-label"),s.zc(3,"Buscar..."),s.Ub(),s.Vb(4,"input",2),s.dc("keyup",(function(){return e.search()}))("ngModelChange",(function(t){return e.texto=t})),s.Ub(),s.Ub(),s.Ub(),s.yc(5,Mt,1,0,"app-loading-spinner",3),s.Vb(6,"div",4),s.Vb(7,"table",5),s.Tb(8,6),s.yc(9,Et,2,0,"th",7),s.yc(10,$t,2,1,"td",8),s.Sb(),s.Tb(11,9),s.yc(12,Bt,2,0,"th",7),s.yc(13,Nt,2,1,"td",8),s.Sb(),s.Tb(14,10),s.yc(15,Tt,2,0,"th",7),s.yc(16,Lt,2,1,"td",8),s.Sb(),s.Tb(17,11),s.yc(18,jt,2,0,"th",7),s.yc(19,At,5,0,"td",8),s.Sb(),s.yc(20,Qt,1,0,"tr",12),s.yc(21,Rt,1,0,"tr",13),s.Ub(),s.Ub(),s.Vb(22,"div",14),s.Vb(23,"button",15),s.dc("click",(function(){return e.fetchOrders(-9)})),s.Vb(24,"mat-icon"),s.zc(25,"arrow_left"),s.Ub(),s.zc(26,"Previous"),s.Ub(),s.Vb(27,"button",16),s.dc("click",(function(){return e.fetchOrders(9)})),s.zc(28,"Next"),s.Vb(29,"mat-icon"),s.zc(30,"arrow_right"),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Db(4),s.lc("ngModel",e.texto),s.Db(1),s.lc("ngIf",!0===e.showLoadingSpinner),s.Db(2),s.lc("dataSource",e.orders),s.Db(13),s.lc("matHeaderRowDef",e.displayedColumns),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns))},directives:[U.c,U.g,C.a,P.b,P.n,P.q,i.l,w.j,w.c,w.e,w.b,w.g,w.i,m.b,p.a,x.a,w.d,w.a,w.f,w.h],styles:["table[_ngcontent-%COMP%]{width:100%}tr.rowsData[_ngcontent-%COMP%]:hover{background-color:rgba(226,234,253,.767)}button[_ngcontent-%COMP%]{min-width:83px;max-width:90px;margin-left:8px}mat-form-field[_ngcontent-%COMP%]{width:30%;min-width:250px}#btnPagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:25px}#nextO[_ngcontent-%COMP%]{margin-left:10vw}#nextO[_ngcontent-%COMP%], #previousO[_ngcontent-%COMP%]{min-width:111px}"]}),t})(),Ft=(()=>{class t{constructor(t){this.http=t}getAllOrdersProducto(t,e,r,i){return this.http.get(`${it.a.url_api}/ordersproducto?search=${r}&ordenacion=${t}&ascDesc=${e}&limit=${i}`).pipe(Object(ot.a)(this.handleError))}getOrdersProducto(t,e){return this.http.get(`${it.a.url_api}/ordersproducto/id/${t}/${e}`).pipe(Object(ot.a)(this.handleError))}createOrdersProducto(t){return this.http.post(`${it.a.url_api}/ordersproducto/`,t)}updateOrdersProducto(t,e,r){return this.http.put(`${it.a.url_api}/ordersproducto/${t}/${e}`,r).pipe(Object(ot.a)(this.handleError))}deleteOrdersProducto(t,e){return this.http.delete(`${it.a.url_api}/ordersproducto/${t}/${e}`).pipe(Object(ot.a)(this.handleError))}getNRegistrosOrdesProducto(){return this.http.get(`${it.a.url_api}/ordersproducto/total`).pipe(Object(ot.a)(this.handleError))}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):y.a.fire({title:"Error!",html:t.status+t.statusText+"<br></br>Error: "+t.error.message,icon:"error",confirmButtonText:"Aceptar"}),Object(nt.a)("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(ct.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ht(t,e){1&t&&s.Qb(0,"app-loading-spinner")}function Gt(t,e){1&t&&(s.Vb(0,"th",18),s.zc(1," ID Order "),s.Ub())}function Jt(t,e){if(1&t&&(s.Vb(0,"td",19),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.id_order," ")}}function Wt(t,e){1&t&&(s.Vb(0,"th",18),s.zc(1," Payer ID "),s.Ub())}function Xt(t,e){if(1&t&&(s.Vb(0,"td",19),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.payer_id," ")}}function Yt(t,e){1&t&&(s.Vb(0,"th",18),s.zc(1," ID Product "),s.Ub())}function Kt(t,e){if(1&t&&(s.Vb(0,"td",19),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.idProduct," ")}}function Zt(t,e){1&t&&(s.Vb(0,"th",18),s.zc(1," Cantidad Comprada "),s.Ub())}function te(t,e){if(1&t&&(s.Vb(0,"td",19),s.zc(1),s.Ub()),2&t){const t=e.$implicit;s.Db(1),s.Bc(" ",t.cantidad," ")}}function ee(t,e){1&t&&(s.Vb(0,"th",18),s.zc(1," Actions "),s.Ub())}const re=function(t,e){return["edit",t,e]};function ie(t,e){if(1&t){const t=s.Wb();s.Vb(0,"td",19),s.Vb(1,"button",20),s.zc(2,"Editar "),s.Vb(3,"span",21),s.zc(4,"edit"),s.Ub(),s.Ub(),s.Vb(5,"button",22),s.dc("click",(function(){s.sc(t);const r=e.$implicit;return s.fc().deleteOrdersProducto(r.id_order,r.idProduct)})),s.zc(6,"Eliminar"),s.Vb(7,"span",21),s.zc(8,"delete"),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=e.$implicit;s.Db(1),s.lc("routerLink",s.oc(1,re,t.id_order,t.idProduct))}}function ne(t,e){1&t&&s.Qb(0,"tr",23)}function oe(t,e){1&t&&s.Qb(0,"tr",24)}const ce=[{path:"",component:f,children:[{path:"productos",component:T},{path:"productos/create",component:H},{path:"productos/edit/:name",component:rt},{path:"clientes",component:Dt},{path:"clientes/edit/:payer_id",component:zt},{path:"clientes/create",component:kt},{path:"orders",component:qt},{path:"ordersproducto",component:(()=>{class t{constructor(t,e,r){this.ordersproductoService=t,this.document=e,this.renderer2=r,this.ordersProducto=[],this.showLoadingSpinner=!0,this.displayedColumns=["id_order","payer_id","idProduct","cantidad","actions"],this.ord=null,this.ascDesc=0,this.like=null,this.limit=0}ngAfterViewInit(){this.fetchOrdersProducto(0),this.numeroTotalOrdersProducto()}numeroTotalOrdersProducto(){this.ordersproductoService.getNRegistrosOrdesProducto().subscribe(t=>{this.nTotalOrdersProducto=t})}paginacion(t){this.renderer2.setStyle(this.document.getElementById("nextOP"),"display",t<9?"none":"block"),this.renderer2.setStyle(this.document.getElementById("previousOP"),"display",this.limit<=0?"none":"block")}fetchOrdersProducto(t){this.limit+=t,this.showLoadingSpinner=!0,this.renderer2.setStyle(this.document.getElementById("nextOP"),"display","none"),this.renderer2.setStyle(this.document.getElementById("previousOP"),"display","none"),this.ordersproductoService.getAllOrdersProducto(this.ord,this.ascDesc,this.like,this.limit).subscribe(t=>{this.showLoadingSpinner=!1,this.ordersProducto=t,this.paginacion(t.length)})}deleteOrdersProducto(t,e){y.a.fire({title:"Est\xe1s seguro?",text:"No podr\xe1s revertir la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, Eliminar!"}).then(r=>{r.value&&this.ordersproductoService.deleteOrdersProducto(t,e).subscribe(t=>{y.a.fire("Eliminado!","El registro se ha eliminado","success"),this.limit=0,this.fetchOrdersProducto(0)})})}search(){this.texto.length>0?(this.like=this.texto,this.limit=0,this.fetchOrdersProducto(0)):(this.like=null,this.limit=0,this.fetchOrdersProducto(0))}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(Ft),s.Pb(i.e),s.Pb(s.F))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-ordersproducto-list"]],decls:34,vars:5,consts:[[1,"container-fluid"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["matInput","","autocomplete","off","type","search",3,"ngModel","keyup","ngModelChange"],[4,"ngIf"],[1,"mat-elevation-z1"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","id_order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","payer_id"],["matColumnDef","idProduct"],["matColumnDef","cantidad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","rowsData","mat-row","",4,"matRowDef","matRowDefColumns"],["id","btnPagination"],["mat-raised-button","","color","warn","id","previousOP",3,"click"],["mat-raised-button","","color","warn","id","nextOP",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",3,"routerLink"],[1,"material-icons"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",1,"rowsData"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"mat-form-field",1),s.Vb(2,"mat-label"),s.zc(3,"Buscar..."),s.Ub(),s.Vb(4,"input",2),s.dc("keyup",(function(){return e.search()}))("ngModelChange",(function(t){return e.texto=t})),s.Ub(),s.Ub(),s.Ub(),s.yc(5,Ht,1,0,"app-loading-spinner",3),s.Vb(6,"div",4),s.Vb(7,"table",5),s.Tb(8,6),s.yc(9,Gt,2,0,"th",7),s.yc(10,Jt,2,1,"td",8),s.Sb(),s.Tb(11,9),s.yc(12,Wt,2,0,"th",7),s.yc(13,Xt,2,1,"td",8),s.Sb(),s.Tb(14,10),s.yc(15,Yt,2,0,"th",7),s.yc(16,Kt,2,1,"td",8),s.Sb(),s.Tb(17,11),s.yc(18,Zt,2,0,"th",7),s.yc(19,te,2,1,"td",8),s.Sb(),s.Tb(20,12),s.yc(21,ee,2,0,"th",7),s.yc(22,ie,9,4,"td",8),s.Sb(),s.yc(23,ne,1,0,"tr",13),s.yc(24,oe,1,0,"tr",14),s.Ub(),s.Ub(),s.Vb(25,"div",15),s.Vb(26,"button",16),s.dc("click",(function(){return e.fetchOrdersProducto(-9)})),s.Vb(27,"mat-icon"),s.zc(28,"arrow_left"),s.Ub(),s.zc(29,"Previous"),s.Ub(),s.Vb(30,"button",17),s.dc("click",(function(){return e.fetchOrdersProducto(9)})),s.zc(31,"Next"),s.Vb(32,"mat-icon"),s.zc(33,"arrow_right"),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Db(4),s.lc("ngModel",e.texto),s.Db(1),s.lc("ngIf",!0===e.showLoadingSpinner),s.Db(2),s.lc("dataSource",e.ordersProducto),s.Db(16),s.lc("matHeaderRowDef",e.displayedColumns),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns))},directives:[U.c,U.g,C.a,P.b,P.n,P.q,i.l,w.j,w.c,w.e,w.b,w.g,w.i,m.b,p.a,x.a,w.d,w.a,n.e,w.f,w.h],styles:["table[_ngcontent-%COMP%]{width:100%}tr.rowsData[_ngcontent-%COMP%]:hover{background-color:rgba(226,234,253,.767)}button[_ngcontent-%COMP%]{min-width:83px;max-width:90px;margin-left:8px}mat-form-field[_ngcontent-%COMP%]{width:30%;min-width:250px}#btnPagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:25px}#nextOP[_ngcontent-%COMP%]{margin-left:10vw}#nextOP[_ngcontent-%COMP%], #previousOP[_ngcontent-%COMP%]{min-width:111px}"]}),t})()},{path:"ordersproducto/edit/:id_order/:name",component:(()=>{class t{constructor(t,e,r,i){this.formBuilder=t,this.ordersproductoService=e,this.router=r,this.activatedRoute=i,this.buildForm()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.id_order=t.id_order,this.idProduct=t.idProduct,this.ordersproductoService.getOrdersProducto(this.id_order,this.idProduct).subscribe(t=>{this.form.patchValue(t)})})}buildForm(){this.form=this.formBuilder.group({id_order:["",[P.t.required]],payer_id:["",[P.t.required]],idProduct:["",[P.t.required]],cantidad:["",[P.t.required,P.t.maxLength(3)]]}),this.form.get("id_order").disable(),this.form.get("payer_id").disable()}saveOrderProducto(t){t.preventDefault(),this.form.valid&&this.ordersproductoService.updateOrdersProducto(this.id_order,this.idProduct,this.form.value).subscribe(()=>{this.router.navigate(["./admin/ordersproducto"])})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(P.c),s.Pb(Ft),s.Pb(n.d),s.Pb(n.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-ordersproducto-edit"]],decls:25,vars:2,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs-12","col-md-12","col-lg-12","col-xl-12"],["placeholder","ID Order","formControlName","id_order","matInput","","type","text"],[1,"col-xs"],["placeholder","Payer ID","formControlName","payer_id","matInput","","type","text"],["placeholder","ID Product","formControlName","idProduct","matInput","","type","text"],["placeholder","Cantidad","formControlName","cantidad","matInput","","type","number"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(s.Vb(0,"form",0),s.dc("ngSubmit",(function(t){return e.saveOrderProducto(t)})),s.Vb(1,"mat-card"),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.zc(4,"Venta"),s.Ub(),s.Ub(),s.Vb(5,"mat-card-content"),s.Vb(6,"div",1),s.Vb(7,"div",2),s.Vb(8,"mat-form-field"),s.Qb(9,"input",3),s.Ub(),s.Ub(),s.Ub(),s.Vb(10,"div",1),s.Vb(11,"div",4),s.Vb(12,"mat-form-field"),s.Qb(13,"input",5),s.Ub(),s.Ub(),s.Ub(),s.Vb(14,"div",1),s.Vb(15,"div",4),s.Vb(16,"mat-form-field"),s.Qb(17,"input",6),s.Ub(),s.Ub(),s.Ub(),s.Vb(18,"div",1),s.Vb(19,"div",4),s.Vb(20,"mat-form-field"),s.Qb(21,"input",7),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(22,"mat-card-actions"),s.Vb(23,"button",8),s.zc(24,"Guardar"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.lc("formGroup",e.form),s.Db(23),s.lc("disabled",e.form.invalid))},directives:[P.u,P.o,P.g,A.a,A.d,A.g,A.c,U.c,P.b,C.a,P.n,P.f,P.r,A.b,m.b],styles:["form[_ngcontent-%COMP%]{width:90%;padding:0;margin:50px auto auto;box-shadow:1px 1px 1px}form[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{max-width:500px}mat-card-header[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})()}]}];let ae=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[n.h.forChild(ce)],n.h]}),t})();var se=r("hctd"),de=r("PCNd");let le=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[i.c,ae,P.s,se.a,P.h,de.a]]}),t})()}}]);